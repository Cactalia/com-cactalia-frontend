<div class="row container-fluid card shadow px-0 pt-4 pb-4 mx-0 mb-4">   
    <form class="col-12" [formGroup]="detailForm">
        <div class="row">
            <div class="col-12">
                <h5>Programa de estudio</h5>
            </div>
            <div class="col-12">
                <h6>Asignación</h6>                
            </div>
        </div>
        <div class="row">
            <div class="form-group col-12 col-md-2">
                <label for="version">Versión</label>
                <input formControlName="version" type="text" class="form-control" id="version" maxlength="29">
            </div>
            <div class="form-group col-12 col-md-7">
                <label for="learningUnitName">Unidad de aprendizaje</label>
                <input formControlName="learningUnitName" type="text" class="form-control" id="learningUnitName" maxlength="29">
            </div>
            <div class="form-group col-12 col-md-3">
                <label for="status">Estado</label>
                <input formControlName="status" type="text" class="form-control" id="status" maxlength="29">
            </div>
        </div>
        <div class="row">
            <div class="form-group col-12 col-md-4">
                <label for="creationDate">Fecha de asignación</label>
                <input formControlName="creationDate" type="text" class="form-control" id="creationDate" maxlength="29">
            </div>
            <div class="form-group col-12 col-md-4">
                <label for="approvalDate">Fecha de aprobación</label>
                <input formControlName="approvalDate" type="text" class="form-control" id="approvalDate" maxlength="29">
            </div>
        </div>        
        <div class="row mt-3">
            <div class="col-12">
                <h6>Profesores asignados</h6>
            </div>
        </div>
        <div class="row">
            <div class="form-group col-12 col-md-10">
                <select class="form-control" id="professor" formControlName="professor">
                    <option selected value="">Seleccionar</option>
                    <option *ngFor="let professor of professors" value="{{professor.id}}">
                        {{professor.name}} {{professor.lastname}} {{professor.secondLastname}} -
                        {{professor.email}}</option>
                </select>
            </div>
            <div class="form-group col-12 col-md-2">
                <button class="btn btn-primary d-flex" type="button" (click)="addProfessor()">
                    <span class="material-icons text-light mr-1">add</span>
                    Agregar
                </button>
            </div>
        </div>
        <div class="row" *ngIf="studyProgram != null">
            <div class="table-responsive col-12">
                <table class="col-12 table table-hover mt-2">
                    <thead>
                        <tr>
                            <th scope="col">Nombre completo</th>
                            <th scope="col">Correo electrónico</th>
                            <th class="action" scope="col">Acciones</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let professor of studyProgram.authors">
                            <td>{{professor.name}} {{professor.lastname}} {{professor.secondLastname}}</td>
                            <td>{{professor.email}}</td>
                            <td class="action">
                                <span class="material-icons"
                                    (click)="removeProfessor(professor.id)">highlight_off</span>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <div class="row ">
            <div class="col-12 d-flex justify-content-end">
                <button class="btn btn-secondary" type="button" (click)="showDetailsCancel()" [disabled]="loadingNewCoordinator || loadingRemoveAssign">Regresar</button>
                <button class="btn btn-danger ml-2" (click)="deleteStudyProgram()" [disabled]="loadingNewCoordinator || loadingRemoveAssign">
                    <span *ngIf="loadingRemoveAssign" class="spinner-border spinner-border-sm" aria-hidden="true"></span>
                    Eliminar</button>
                <button class="btn btn-primary ml-2" (click)="updateAssign()" [disabled]="loadingNewCoordinator || loadingRemoveAssign || studyProgram==null || studyProgram.authors.length<=0">
                    <span *ngIf="loadingUpdateAssign" class="spinner-border spinner-border-sm" aria-hidden="true"></span>
                    Modificar</button>
            </div>
        </div>
    </form>
</div>